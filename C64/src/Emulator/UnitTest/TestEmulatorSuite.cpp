//
// Emulator - Simple C64 emulator
// Copyright (C) 2003-2016 Michael Fink
//
/// \file TestEmulatorSuite.cpp Unit tests using the C64 Emulator Test Suite
//
#pragma once

// includes
#include "stdafx.h"
#include "TestEmulator.hpp"

using namespace Microsoft::VisualStudio::CppUnitTestFramework;

namespace UnitTest
{
   /// test path; adjust this to the unzipped test suite zip contents
   LPCTSTR c_pszTestPath = _T("D:\\Projekte\\C64\\Emulator\\UnitTest\\tsuit214");

#define STRINGIFY(x) #x

#define TEST_EMULATOR_SUITE_TEST(x) \
      TEST_METHOD(Test##x) \
   { \
      RunTest(_T(STRINGIFY(x))); \
   }

   /// Runs all unit tests in the C64 Emulator Test Suite, version 2.14
   TEST_CLASS(TestEmulatorSuite)
   {
   public:
      /// Runs a single test, with given test name
      void RunTest(LPCTSTR testName)
      {
         TestEmulator te;
         Assert::IsTrue(te.LoadTest(c_pszTestPath, testName));
         te.GetProcessor().SetProgramCounter(2070);
         Assert::IsTrue(te.Run());
      }

      /// initial test
      TEST_METHOD(TestStart)
      {
         RunTest(_T("_START"));
      }

      /// runs a single test
      TEST_METHOD(TestSingleInstruction)
      {
         TestEmulator te;
         Assert::IsTrue(te.LoadTest(c_pszTestPath, _T("ADCA")));
         te.GetProcessor().SetProgramCounter(2070);
         Assert::IsTrue(te.Run());
      }

      // all tests in the test suite
      TEST_EMULATOR_SUITE_TEST(ADCA)
      TEST_EMULATOR_SUITE_TEST(ADCAX)
      TEST_EMULATOR_SUITE_TEST(ADCAY)
      TEST_EMULATOR_SUITE_TEST(ADCB)
      TEST_EMULATOR_SUITE_TEST(ADCIX)
      TEST_EMULATOR_SUITE_TEST(ADCIY)
      TEST_EMULATOR_SUITE_TEST(ADCZ)
      TEST_EMULATOR_SUITE_TEST(ADCZX)
      //TEST_EMULATOR_SUITE_TEST(ALRB)
      //TEST_EMULATOR_SUITE_TEST(ANCB)
      TEST_EMULATOR_SUITE_TEST(ANDA)
      TEST_EMULATOR_SUITE_TEST(ANDAX)
      TEST_EMULATOR_SUITE_TEST(ANDAY)
      TEST_EMULATOR_SUITE_TEST(ANDB)
      TEST_EMULATOR_SUITE_TEST(ANDIX)
      TEST_EMULATOR_SUITE_TEST(ANDIY)
      TEST_EMULATOR_SUITE_TEST(ANDZ)
      TEST_EMULATOR_SUITE_TEST(ANDZX)
      //TEST_EMULATOR_SUITE_TEST(ANEB)
      //TEST_EMULATOR_SUITE_TEST(ARRB)
      TEST_EMULATOR_SUITE_TEST(ASLA)
      TEST_EMULATOR_SUITE_TEST(ASLAX)
      TEST_EMULATOR_SUITE_TEST(ASLN)
      TEST_EMULATOR_SUITE_TEST(ASLZ)
      TEST_EMULATOR_SUITE_TEST(ASLZX)
      //TEST_EMULATOR_SUITE_TEST(ASOA)
      //TEST_EMULATOR_SUITE_TEST(ASOAX)
      //TEST_EMULATOR_SUITE_TEST(ASOAY)
      //TEST_EMULATOR_SUITE_TEST(ASOIX)
      //TEST_EMULATOR_SUITE_TEST(ASOIY)
      //TEST_EMULATOR_SUITE_TEST(ASOZ)
      //TEST_EMULATOR_SUITE_TEST(ASOZX)
      //TEST_EMULATOR_SUITE_TEST(AXSA)
      //TEST_EMULATOR_SUITE_TEST(AXSIX)
      //TEST_EMULATOR_SUITE_TEST(AXSZ)
      //TEST_EMULATOR_SUITE_TEST(AXSZY)
      TEST_EMULATOR_SUITE_TEST(BCCR)
      TEST_EMULATOR_SUITE_TEST(BCSR)
      TEST_EMULATOR_SUITE_TEST(BEQR)
      TEST_EMULATOR_SUITE_TEST(BNER)
      TEST_EMULATOR_SUITE_TEST(BITA)
      TEST_EMULATOR_SUITE_TEST(BITZ)
      TEST_EMULATOR_SUITE_TEST(BMIR)
      TEST_EMULATOR_SUITE_TEST(BPLR)
      TEST_EMULATOR_SUITE_TEST(BRKN)
      TEST_EMULATOR_SUITE_TEST(BRNCHWRP)
      TEST_EMULATOR_SUITE_TEST(BVCR)
      TEST_EMULATOR_SUITE_TEST(BVSR)
      TEST_EMULATOR_SUITE_TEST(CLCN)
      TEST_EMULATOR_SUITE_TEST(CLDN)
      TEST_EMULATOR_SUITE_TEST(CLIN)
      TEST_EMULATOR_SUITE_TEST(CLVN)
      TEST_EMULATOR_SUITE_TEST(CMPA)
      TEST_EMULATOR_SUITE_TEST(CMPAX)
      TEST_EMULATOR_SUITE_TEST(CMPAY)
      TEST_EMULATOR_SUITE_TEST(CMPB)
      TEST_EMULATOR_SUITE_TEST(CMPIX)
      TEST_EMULATOR_SUITE_TEST(CMPIY)
      TEST_EMULATOR_SUITE_TEST(CMPZ)
      TEST_EMULATOR_SUITE_TEST(CMPZX)
      //TEST_EMULATOR_SUITE_TEST(CPUPORT)
      //TEST_EMULATOR_SUITE_TEST(CPUTIMNG)
      TEST_EMULATOR_SUITE_TEST(CPXA)
      TEST_EMULATOR_SUITE_TEST(CPXB)
      TEST_EMULATOR_SUITE_TEST(CPXZ)
      TEST_EMULATOR_SUITE_TEST(CPYA)
      TEST_EMULATOR_SUITE_TEST(CPYB)
      TEST_EMULATOR_SUITE_TEST(CPYZ)
      //TEST_EMULATOR_SUITE_TEST(DCMA)
      //TEST_EMULATOR_SUITE_TEST(DCMAX)
      //TEST_EMULATOR_SUITE_TEST(DCMAY)
      //TEST_EMULATOR_SUITE_TEST(DCMIX)
      //TEST_EMULATOR_SUITE_TEST(DCMIY)
      //TEST_EMULATOR_SUITE_TEST(DCMZ)
      //TEST_EMULATOR_SUITE_TEST(DCMZX)
      TEST_EMULATOR_SUITE_TEST(DECA)
      TEST_EMULATOR_SUITE_TEST(DECAX)
      TEST_EMULATOR_SUITE_TEST(DECZ)
      TEST_EMULATOR_SUITE_TEST(DECZX)
      TEST_EMULATOR_SUITE_TEST(DEXN)
      TEST_EMULATOR_SUITE_TEST(DEYN)
      TEST_EMULATOR_SUITE_TEST(EORA)
      TEST_EMULATOR_SUITE_TEST(EORAX)
      TEST_EMULATOR_SUITE_TEST(EORAY)
      TEST_EMULATOR_SUITE_TEST(EORB)
      TEST_EMULATOR_SUITE_TEST(EORIX)
      TEST_EMULATOR_SUITE_TEST(EORIY)
      TEST_EMULATOR_SUITE_TEST(EORZ)
      TEST_EMULATOR_SUITE_TEST(EORZX)
      TEST_EMULATOR_SUITE_TEST(INCA)
      TEST_EMULATOR_SUITE_TEST(INCAX)
      TEST_EMULATOR_SUITE_TEST(INCZ)
      TEST_EMULATOR_SUITE_TEST(INCZX)
      //TEST_EMULATOR_SUITE_TEST(INSA)
      //TEST_EMULATOR_SUITE_TEST(INSAX)
      //TEST_EMULATOR_SUITE_TEST(INSAY)
      //TEST_EMULATOR_SUITE_TEST(INSIX)
      //TEST_EMULATOR_SUITE_TEST(INSIY)
      //TEST_EMULATOR_SUITE_TEST(INSZ)
      //TEST_EMULATOR_SUITE_TEST(INSZX)
      TEST_EMULATOR_SUITE_TEST(INXN)
      TEST_EMULATOR_SUITE_TEST(INYN)
      TEST_EMULATOR_SUITE_TEST(JMPI)
      TEST_EMULATOR_SUITE_TEST(JMPW)
      TEST_EMULATOR_SUITE_TEST(JSRW)
      //TEST_EMULATOR_SUITE_TEST(LASAY)
      //TEST_EMULATOR_SUITE_TEST(LAXA)
      //TEST_EMULATOR_SUITE_TEST(LAXAY)
      //TEST_EMULATOR_SUITE_TEST(LAXIX)
      //TEST_EMULATOR_SUITE_TEST(LAXIY)
      //TEST_EMULATOR_SUITE_TEST(LAXZ)
      //TEST_EMULATOR_SUITE_TEST(LAXZY)
      TEST_EMULATOR_SUITE_TEST(LDAA)
      TEST_EMULATOR_SUITE_TEST(LDAAX)
      TEST_EMULATOR_SUITE_TEST(LDAAY)
      TEST_EMULATOR_SUITE_TEST(LDAB)
      TEST_EMULATOR_SUITE_TEST(LDAIX)
      TEST_EMULATOR_SUITE_TEST(LDAIY)
      TEST_EMULATOR_SUITE_TEST(LDAZ)
      TEST_EMULATOR_SUITE_TEST(LDAZX)
      TEST_EMULATOR_SUITE_TEST(LDXA)
      TEST_EMULATOR_SUITE_TEST(LDXAY)
      TEST_EMULATOR_SUITE_TEST(LDXB)
      TEST_EMULATOR_SUITE_TEST(LDXZ)
      TEST_EMULATOR_SUITE_TEST(LDXZY)
      TEST_EMULATOR_SUITE_TEST(LDYA)
      TEST_EMULATOR_SUITE_TEST(LDYAX)
      TEST_EMULATOR_SUITE_TEST(LDYB)
      TEST_EMULATOR_SUITE_TEST(LDYZ)
      TEST_EMULATOR_SUITE_TEST(LDYZX)
      //TEST_EMULATOR_SUITE_TEST(LSEA)
      //TEST_EMULATOR_SUITE_TEST(LSEAX)
      //TEST_EMULATOR_SUITE_TEST(LSEAY)
      //TEST_EMULATOR_SUITE_TEST(LSEIX)
      //TEST_EMULATOR_SUITE_TEST(LSEIY)
      //TEST_EMULATOR_SUITE_TEST(LSEZ)
      //TEST_EMULATOR_SUITE_TEST(LSEZX)
      TEST_EMULATOR_SUITE_TEST(LSRA)
      TEST_EMULATOR_SUITE_TEST(LSRAX)
      TEST_EMULATOR_SUITE_TEST(LSRN)
      TEST_EMULATOR_SUITE_TEST(LSRZ)
      TEST_EMULATOR_SUITE_TEST(LSRZX)
      //TEST_EMULATOR_SUITE_TEST(LXAB)
      //TEST_EMULATOR_SUITE_TEST(MMU)
      //TEST_EMULATOR_SUITE_TEST(MMUFETCH)
      TEST_EMULATOR_SUITE_TEST(NOPN)
      //TEST_EMULATOR_SUITE_TEST(NOPA)
      //TEST_EMULATOR_SUITE_TEST(NOPAX)
      //TEST_EMULATOR_SUITE_TEST(NOPB)
      //TEST_EMULATOR_SUITE_TEST(NOPZ)
      //TEST_EMULATOR_SUITE_TEST(NOPZX)
      TEST_EMULATOR_SUITE_TEST(ORAA)
      TEST_EMULATOR_SUITE_TEST(ORAAX)
      TEST_EMULATOR_SUITE_TEST(ORAAY)
      TEST_EMULATOR_SUITE_TEST(ORAB)
      TEST_EMULATOR_SUITE_TEST(ORAIX)
      TEST_EMULATOR_SUITE_TEST(ORAIY)
      TEST_EMULATOR_SUITE_TEST(ORAZ)
      TEST_EMULATOR_SUITE_TEST(ORAZX)
      TEST_EMULATOR_SUITE_TEST(PHAN)
      TEST_EMULATOR_SUITE_TEST(PHPN)
      TEST_EMULATOR_SUITE_TEST(PLAN)
      TEST_EMULATOR_SUITE_TEST(PLPN)
      //TEST_EMULATOR_SUITE_TEST(RLAA)
      //TEST_EMULATOR_SUITE_TEST(RLAAX)
      //TEST_EMULATOR_SUITE_TEST(RLAAY)
      //TEST_EMULATOR_SUITE_TEST(RLAIX)
      //TEST_EMULATOR_SUITE_TEST(RLAIY)
      //TEST_EMULATOR_SUITE_TEST(RLAZ)
      //TEST_EMULATOR_SUITE_TEST(RLAZX)
      TEST_EMULATOR_SUITE_TEST(ROLA)
      TEST_EMULATOR_SUITE_TEST(ROLAX)
      TEST_EMULATOR_SUITE_TEST(ROLN)
      TEST_EMULATOR_SUITE_TEST(ROLZ)
      TEST_EMULATOR_SUITE_TEST(ROLZX)
      TEST_EMULATOR_SUITE_TEST(RORA)
      TEST_EMULATOR_SUITE_TEST(RORAX)
      TEST_EMULATOR_SUITE_TEST(RORN)
      TEST_EMULATOR_SUITE_TEST(RORZ)
      TEST_EMULATOR_SUITE_TEST(RORZX)
      //TEST_EMULATOR_SUITE_TEST(RRAA)
      //TEST_EMULATOR_SUITE_TEST(RRAAX)
      //TEST_EMULATOR_SUITE_TEST(RRAAY)
      //TEST_EMULATOR_SUITE_TEST(RRAIX)
      //TEST_EMULATOR_SUITE_TEST(RRAIY)
      //TEST_EMULATOR_SUITE_TEST(RRAZ)
      //TEST_EMULATOR_SUITE_TEST(RRAZX)
      TEST_EMULATOR_SUITE_TEST(RTIN)
      TEST_EMULATOR_SUITE_TEST(RTSN)
      TEST_EMULATOR_SUITE_TEST(SBCA)
      TEST_EMULATOR_SUITE_TEST(SBCAX)
      TEST_EMULATOR_SUITE_TEST(SBCAY)
      TEST_EMULATOR_SUITE_TEST(SBCB)
      TEST_EMULATOR_SUITE_TEST(SBCIX)
      TEST_EMULATOR_SUITE_TEST(SBCIY)
      TEST_EMULATOR_SUITE_TEST(SBCZ)
      TEST_EMULATOR_SUITE_TEST(SBCZX)
      //TEST_EMULATOR_SUITE_TEST(SBCBEB)
      //TEST_EMULATOR_SUITE_TEST(SBXB)
      TEST_EMULATOR_SUITE_TEST(SECN)
      TEST_EMULATOR_SUITE_TEST(SEDN)
      TEST_EMULATOR_SUITE_TEST(SEIN)
      //TEST_EMULATOR_SUITE_TEST(SHAAY)
      //TEST_EMULATOR_SUITE_TEST(SHAIY)
      //TEST_EMULATOR_SUITE_TEST(SHSAY)
      //TEST_EMULATOR_SUITE_TEST(SHXAY)
      //TEST_EMULATOR_SUITE_TEST(SHYAX)
      TEST_EMULATOR_SUITE_TEST(STAA)
      TEST_EMULATOR_SUITE_TEST(STAAX)
      TEST_EMULATOR_SUITE_TEST(STAAY)
      TEST_EMULATOR_SUITE_TEST(STAIX)
      TEST_EMULATOR_SUITE_TEST(STAIY)
      TEST_EMULATOR_SUITE_TEST(STAZ)
      TEST_EMULATOR_SUITE_TEST(STAZX)
      TEST_EMULATOR_SUITE_TEST(STXA)
      TEST_EMULATOR_SUITE_TEST(STXZ)
      TEST_EMULATOR_SUITE_TEST(STXZY)
      TEST_EMULATOR_SUITE_TEST(STYA)
      TEST_EMULATOR_SUITE_TEST(STYZ)
      TEST_EMULATOR_SUITE_TEST(STYZX)
      TEST_EMULATOR_SUITE_TEST(TAXN)
      TEST_EMULATOR_SUITE_TEST(TAYN)
      TEST_EMULATOR_SUITE_TEST(TSXN)
      TEST_EMULATOR_SUITE_TEST(TXAN)
      TEST_EMULATOR_SUITE_TEST(TXSN)
      TEST_EMULATOR_SUITE_TEST(TYAN)
      //TEST_EMULATOR_SUITE_TEST(TRAP1)
      //TEST_EMULATOR_SUITE_TEST(TRAP2)
      //TEST_EMULATOR_SUITE_TEST(TRAP3)
      //TEST_EMULATOR_SUITE_TEST(TRAP4)
      //TEST_EMULATOR_SUITE_TEST(TRAP5)
      //TEST_EMULATOR_SUITE_TEST(TRAP6)
      //TEST_EMULATOR_SUITE_TEST(TRAP7)
      //TEST_EMULATOR_SUITE_TEST(TRAP8)
      //TEST_EMULATOR_SUITE_TEST(TRAP9)
      //TEST_EMULATOR_SUITE_TEST(TRAP10)
      //TEST_EMULATOR_SUITE_TEST(TRAP11)
      //TEST_EMULATOR_SUITE_TEST(TRAP12)
      //TEST_EMULATOR_SUITE_TEST(TRAP13)
      //TEST_EMULATOR_SUITE_TEST(TRAP14)
      //TEST_EMULATOR_SUITE_TEST(TRAP15)
      //TEST_EMULATOR_SUITE_TEST(TRAP16)
      //TEST_EMULATOR_SUITE_TEST(TRAP17)
   };

} // namespace UnitTest
